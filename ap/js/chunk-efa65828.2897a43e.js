(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-efa65828"],{"0127":function(e,t){var a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"findUsers"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"registeredFrom"}},type:{kind:"NamedType",name:{kind:"Name",value:"DateTime"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"registeredTo"}},type:{kind:"NamedType",name:{kind:"Name",value:"DateTime"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"deposited"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"findUsers"},arguments:[{kind:"Argument",name:{kind:"Name",value:"registeredFrom"},value:{kind:"Variable",name:{kind:"Name",value:"registeredFrom"}}},{kind:"Argument",name:{kind:"Name",value:"registeredTo"},value:{kind:"Variable",name:{kind:"Name",value:"registeredTo"}}},{kind:"Argument",name:{kind:"Name",value:"deposited"},value:{kind:"Variable",name:{kind:"Name",value:"deposited"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"users"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"img"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"role"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"balance"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:312}};a.loc.source={body:"query findUsers($registeredFrom: DateTime, $registeredTo: DateTime, $deposited: Boolean) {\r\n  findUsers(registeredFrom: $registeredFrom, registeredTo: $registeredTo, deposited: $deposited) {\r\n    count\r\n    users {\r\n      createdAt\r\n      id\r\n      username\r\n      img\r\n      role\r\n      balance\r\n    }\r\n  }\r\n}\r\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var a=e.type;"NamedType"===a.kind&&t.add(a.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,t)})),e.definitions&&e.definitions.forEach((function(e){i(e,t)}))}var n={};function s(e,t){for(var a=0;a<e.definitions.length;a++){var i=e.definitions[a];if(i.name&&i.name.value==t)return i}}function r(e,t){var a={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(a.loc=e.loc);var i=n[t]||new Set,r=new Set,l=new Set;i.forEach((function(e){l.add(e)}));while(l.size>0){var o=l;l=new Set,o.forEach((function(e){if(!r.has(e)){r.add(e);var t=n[e]||new Set;t.forEach((function(e){l.add(e)}))}}))}return r.forEach((function(t){var i=s(e,t);i&&a.definitions.push(i)})),a}(function(){a.definitions.forEach((function(e){if(e.name){var t=new Set;i(e,t),n[e.name.value]=t}}))})(),e.exports=a,e.exports["findUsers"]=r(a,"findUsers")},"17b3":function(e,t,a){},"891e":function(e,t,a){"use strict";a("99af"),a("d81d"),a("a9e3"),a("d3b7"),a("25f0");var i=a("2909"),n=a("5530"),s=(a("17b3"),a("9d26")),r=a("dc22"),l=a("a9ad"),o=a("de2c"),c=a("7560"),d=a("58df");t["a"]=Object(d["a"])(l["a"],Object(o["a"])({onVisible:["init"]}),c["a"]).extend({name:"v-pagination",directives:{Resize:r["a"]},props:{circle:Boolean,disabled:Boolean,length:{type:Number,default:0,validator:function(e){return e%1===0}},nextIcon:{type:String,default:"$next"},prevIcon:{type:String,default:"$prev"},totalVisible:[Number,String],value:{type:Number,default:0},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},wrapperAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.wrapper"}},data:function(){return{maxButtons:0,selected:null}},computed:{classes:function(){return Object(n["a"])({"v-pagination":!0,"v-pagination--circle":this.circle,"v-pagination--disabled":this.disabled},this.themeClasses)},items:function(){var e=parseInt(this.totalVisible,10),t=Math.min(Math.max(0,e)||this.length,Math.max(0,this.maxButtons)||this.length,this.length);if(this.length<=t)return this.range(1,this.length);var a=t%2===0?1:0,n=Math.floor(t/2),s=this.length-n+1+a;if(this.value>n&&this.value<s){var r=this.value-n+2,l=this.value+n-2-a;return[1,"..."].concat(Object(i["a"])(this.range(r,l)),["...",this.length])}if(this.value===n){var o=this.value+n-1-a;return[].concat(Object(i["a"])(this.range(1,o)),["...",this.length])}if(this.value===s){var c=this.value-n+1;return[1,"..."].concat(Object(i["a"])(this.range(c,this.length)))}return[].concat(Object(i["a"])(this.range(1,n)),["..."],Object(i["a"])(this.range(s,this.length)))}},watch:{value:function(){this.init()}},mounted:function(){this.init()},methods:{init:function(){var e=this;this.selected=null,this.$nextTick(this.onResize),setTimeout((function(){return e.selected=e.value}),100)},onResize:function(){var e=this.$el&&this.$el.parentElement?this.$el.parentElement.clientWidth:window.innerWidth;this.maxButtons=Math.floor((e-96)/42)},next:function(e){e.preventDefault(),this.$emit("input",this.value+1),this.$emit("next")},previous:function(e){e.preventDefault(),this.$emit("input",this.value-1),this.$emit("previous")},range:function(e,t){var a=[];e=e>0?e:1;for(var i=e;i<=t;i++)a.push(i);return a},genIcon:function(e,t,a,i,n){return e("li",[e("button",{staticClass:"v-pagination__navigation",class:{"v-pagination__navigation--disabled":a},attrs:{type:"button","aria-label":n},on:a?{}:{click:i}},[e(s["a"],[t])])])},genItem:function(e,t){var a=this,i=t===this.value&&(this.color||"primary"),n=t===this.value,s=n?this.currentPageAriaLabel:this.pageAriaLabel;return e("button",this.setBackgroundColor(i,{staticClass:"v-pagination__item",class:{"v-pagination__item--active":t===this.value},attrs:{type:"button","aria-current":n,"aria-label":this.$vuetify.lang.t(s,t)},on:{click:function(){return a.$emit("input",t)}}}),[t.toString()])},genItems:function(e){var t=this;return this.items.map((function(a,i){return e("li",{key:i},[isNaN(Number(a))?e("span",{class:"v-pagination__more"},[a.toString()]):t.genItem(e,a)])}))},genList:function(e,t){return e("ul",{directives:[{modifiers:{quiet:!0},name:"resize",value:this.onResize}],class:this.classes},t)}},render:function(e){var t=[this.genIcon(e,this.$vuetify.rtl?this.nextIcon:this.prevIcon,this.value<=1,this.previous,this.$vuetify.lang.t(this.previousAriaLabel)),this.genItems(e),this.genIcon(e,this.$vuetify.rtl?this.prevIcon:this.nextIcon,this.value>=this.length,this.next,this.$vuetify.lang.t(this.nextAriaLabel))];return e("nav",{attrs:{role:"navigation","aria-label":this.$vuetify.lang.t(this.wrapperAriaLabel)}},[this.genList(e,t)])}})},e94a:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":e.dates,"offset-y":"","min-width":"290px"},on:{"update:returnValue":function(t){e.dates=t},"update:return-value":function(t){e.dates=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-text-field",e._g({staticClass:"rounded-lg",attrs:{solo:"",flat:"","hide-details":"auto","background-color":"#464646",label:e.label,readonly:""},scopedSlots:e._u([{key:"prepend-inner",fn:function(){return[a("v-icon",{staticClass:"mr-1"},[e._v(" mdi-calendar ")])]},proxy:!0}],null,!0),model:{value:e.dateRangeText,callback:function(t){e.dateRangeText=t},expression:"dateRangeText"}},i))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[a("v-date-picker",{attrs:{"no-title":"",scrollable:"",range:""},model:{value:e.dates,callback:function(t){e.dates=t},expression:"dates"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.menu=!1}}},[e._v(" Отмена ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:e.saveDates}},[e._v(" ОК ")])],1)],1)},n=[],s=(a("a15b"),{props:{label:{type:String,required:!0}},data:function(){return{menu:!1,dates:[]}},computed:{dateRangeText:function(){return this.dates.join(" ~ ")}},methods:{saveDates:function(){this.$refs.menu.save(this.dates),this.$emit("save",this.dates)}}}),r=s,l=a("2877"),o=a("6544"),c=a.n(o),d=a("8336"),u=a("2e4b"),v=a("132d"),m=a("e449"),f=a("2fa4"),h=a("8654"),g=Object(l["a"])(r,i,n,!1,null,null,null);t["a"]=g.exports;c()(g,{VBtn:d["a"],VDatePicker:u["a"],VIcon:v["a"],VMenu:m["a"],VSpacer:f["a"],VTextField:h["a"]})},ed81:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("AppRow",{attrs:{permission:"USERS_ADMINISTRATION"}},[i("v-col",{attrs:{cols:"12"}},[i("v-text-field",{staticClass:"rounded-lg",attrs:{solo:"",flat:"","hide-details":"auto","background-color":"#464646",label:"Поиск пользователей"},scopedSlots:e._u([{key:"prepend-inner",fn:function(){return[i("v-icon",{staticClass:"mr-1"},[e._v(" mdi-magnify ")])]},proxy:!0}]),model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[i("v-select",{staticClass:"rounded-lg",attrs:{items:e.selectDeposited,"item-value":"key","item-text":"text",solo:"",flat:"","hide-details":"auto",clearable:"","background-color":"#464646",label:"Наличие депозитов"},on:{change:e.firstPage},model:{value:e.deposited,callback:function(t){e.deposited=t},expression:"deposited"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[i("v-select",{staticClass:"rounded-lg",attrs:{items:e.roles,solo:"",flat:"","hide-details":"auto",clearable:"","background-color":"#464646",label:"Роль"},on:{change:e.firstPage},model:{value:e.role,callback:function(t){e.role=t},expression:"role"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[i("v-select",{staticClass:"rounded-lg",attrs:{items:e.selectBanned,"item-value":"key","item-text":"text",solo:"",flat:"","hide-details":"auto",clearable:"","background-color":"#464646",label:"Забанен/Не забанен"},on:{change:e.firstPage},model:{value:e.banned,callback:function(t){e.banned=t},expression:"banned"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[i("DatePicker",{attrs:{label:"Дата регистрации (выбрать промежуток)"},on:{save:e.saveDates}})],1),i("v-col",[i("ApolloQuery",{attrs:{query:a("0127"),variables:{registeredFrom:e.registeredFrom,registeredTo:e.registeredTo,deposited:e.deposited},update:function(t){return e.users=t}},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.result,n=a.error,s=a.data,r=t.isLoading;return[n?i("AppNotification",{attrs:{message:n.message}}):s||1===r?i("v-card",{staticClass:"px-4 pb-2",attrs:{loading:1===r,flat:""}},[s?[i("v-card-title",{staticClass:"py-7"},[e._v(" Пользователи: "+e._s(s.findUsers.count)+" ")]),i("v-data-table",{attrs:{headers:e.headers,items:s.findUsers.users,page:e.page,"items-per-page":e.itemsPerPage,"disable-sort":"","no-data-text":"Пользователи отсутствуют","no-results-text":"Ничего не найдено","hide-default-footer":""},on:{"update:page":function(t){e.page=t}},scopedSlots:e._u([{key:"item.img",fn:function(t){var a=t.item;return[i("v-avatar",{attrs:{color:a.img?"":"#c4c4c4",size:"36"}},[a.img?i("img",{attrs:{src:a.img}}):i("v-icon",{staticStyle:{height:"inherit"},attrs:{size:"22"}},[e._v(" mdi-account ")])],1)]}},{key:"item.createdAt",fn:function(t){var a=t.item;return[e._v(" "+e._s(e._f("moment")(a.createdAt,"DD.MM.YYYY, HH:mm"))+" ")]}},{key:"item.action",fn:function(t){var a=t.item;return[i("v-btn",{staticClass:"text-none",attrs:{to:{name:"users",params:{id:a.id}},depressed:"",large:"",height:"36"}},[e._v(" Подробнее ")])]}}],null,!0)}),i("v-divider"),i("div",{staticClass:"text-center pt-3"},[i("v-pagination",{attrs:{"total-visible":9,length:Math.ceil(s.findUsers.count/e.itemsPerPage)},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}}),i("v-select",{staticClass:"pa-4 pt-5",attrs:{items:[5,10,15],label:"Пользователей на странице"},on:{change:e.firstPage},model:{value:e.itemsPerPage,callback:function(t){e.itemsPerPage=t},expression:"itemsPerPage"}})],1)]:e._e()],2):i("AppNotification",{attrs:{message:"Нет результата :("}})]}}])})],1)],1)},n=[],s=(a("ac1f"),a("841c"),a("3835")),r=a("9a79"),l=a("e94a"),o=a("dfe4"),c={components:{AppRow:r["a"],DatePicker:l["a"],AppNotification:o["a"]},data:function(){return{searchText:"",searchTimeout:null,search:"",deposited:null,selectDeposited:[{text:"Были депозиты",key:!0},{text:"Не было депозитов",key:!1}],role:"",roles:["ROLE_UNDEFINED","USER","ADMINISTRATOR","SUPERUSER","PARTNER","BLOGGER","BANNED","PUBLIC"],banned:null,selectBanned:[{text:"Забанен",key:!0},{text:"Не забанен",key:!1}],registeredFrom:"",registeredTo:"",headers:[{text:"",value:"img"},{text:"ID:",value:"id",class:"white--text text-subtitle-2"},{text:"Имя:",value:"username",class:"white--text text-subtitle-2"},{text:"Баланс:",value:"balance",class:"white--text text-subtitle-2"},{text:"Роль:",value:"role",class:"white--text text-subtitle-2"},{text:"Дата регистрации:",value:"createdAt",class:"white--text text-subtitle-2"},{text:"",value:"action",align:"center"}],page:1,itemsPerPage:5}},watch:{searchText:function(e){var t=this;clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout((function(){t.firstPage(),t.search=e}),500)}},methods:{firstPage:function(){this.page=1},saveDates:function(e){var t=Object(s["a"])(e,2);this.registeredFrom=t[0],this.registeredTo=t[1]}}},d=c,u=a("2877"),v=a("6544"),m=a.n(v),f=a("8212"),h=a("8336"),g=a("b0afa"),p=a("99d9"),b=a("62ad"),k=a("8fea"),x=a("ce7e"),y=a("132d"),S=a("891e"),N=a("b974"),T=a("8654"),D=Object(u["a"])(d,i,n,!1,null,null,null);t["default"]=D.exports;m()(D,{VAvatar:f["a"],VBtn:h["a"],VCard:g["a"],VCardTitle:p["c"],VCol:b["a"],VDataTable:k["a"],VDivider:x["a"],VIcon:y["a"],VPagination:S["a"],VSelect:N["a"],VTextField:T["a"]})}}]);
//# sourceMappingURL=chunk-efa65828.2897a43e.js.map